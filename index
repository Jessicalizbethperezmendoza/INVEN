<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario - La Sagrada Familia</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .product-form {
            margin-bottom: 20px;
        }
        img {
            max-width: 100px;
            height: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        button {
            cursor: pointer;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>Inventario - La Sagrada Familia</h1>
    </header>

    <main>
        <div class="product-form">
            <h2>Agregar Producto</h2>

            <label for="product-code">C√≥digo del Producto</label>
            <input type="text" id="product-code" placeholder="C√≥digo del producto">

            <label for="product-name">Nombre del Producto</label>
            <input type="text" id="product-name" placeholder="Nombre del producto">

            <label for="product-quantity">Cantidad</label>
            <input type="number" id="product-quantity" placeholder="Cantidad">

            <label for="product-original-price">Precio Original (‚Ç¨)</label>
            <input type="number" id="product-original-price" placeholder="Precio original" step="0.01">

            <label for="product-sale-price">Precio de Venta (‚Ç¨)</label>
            <input type="number" id="product-sale-price" placeholder="Precio de venta" step="0.01">

            <label for="product-photo">Foto del Producto</label>
            <input type="file" id="product-photo" accept="image/*">
            <img id="product-preview" src="" alt="Vista previa de la imagen" style="display:none;">

            <button onclick="addProduct()">‚ûï Agregar al Inventario</button>
        </div>

        <!-- Bot√≥n para mostrar/ocultar el inventario -->
        <button onclick="toggleInventory()">üì¶ Ver Inventario</button>

        <table class="product-table hidden" id="product-table">
            <thead>
                <tr>
                    <th>Foto</th>
                    <th>C√≥digo</th>
                    <th>Nombre</th>
                    <th>Cantidad</th>
                    <th>Precio Original (‚Ç¨)</th>
                    <th>Precio de Venta (‚Ç¨)</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <!-- Los productos se agregar√°n aqu√≠ -->
            </tbody>
        </table>

    </main>

    <!-- Funciones para manejar productos -->
    <script>
        document.getElementById('product-photo').addEventListener('change', function(event) {
            const reader = new FileReader();
            reader.onload = function() {
                const output = document.getElementById('product-preview');
                output.src = reader.result;
                output.style.display = 'block';
            };
            reader.readAsDataURL(event.target.files[0]);
        });

        function addProduct() {
            const productCode = document.getElementById('product-code').value;
            const productName = document.getElementById('product-name').value;
            const productQuantity = document.getElementById('product-quantity').value;
            const productOriginalPrice = document.getElementById('product-original-price').value;
            const productSalePrice = document.getElementById('product-sale-price').value;
            const productPhoto = document.getElementById('product-preview').src;

            if (productCode && productName && productQuantity && productOriginalPrice && productSalePrice && productPhoto) {
                const productTableBody = document.querySelector('#product-table tbody');

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><img src="${productPhoto}" alt="${productName}"></td>
                    <td>${productCode}</td>
                    <td>${productName}</td>
                    <td>${productQuantity}</td>
                    <td>${parseFloat(productOriginalPrice).toFixed(2)} ‚Ç¨</td> <!-- Formato de precio -->
                    <td>${parseFloat(productSalePrice).toFixed(2)} ‚Ç¨</td> <!-- Formato de precio -->
                    <td><button onclick="removeProduct(this)">üóëÔ∏è Eliminar</button></td>
                `;

                productTableBody.appendChild(row);

                // Limpiar los campos del formulario
                document.getElementById('product-code').value = '';
                document.getElementById('product-name').value = '';
                document.getElementById('product-quantity').value = '';
                document.getElementById('product-original-price').value = '';
                document.getElementById('product-sale-price').value = '';
                document.getElementById('product-photo').value = '';
                document.getElementById('product-preview').style.display = 'none';

                // Desplazar a la tabla del inventario
                scrollToInventory();
                
            } else {
                alert('Por favor, completa todos los campos y sube una imagen.');
            }
        }

        function removeProduct(button) {
            const row = button.parentElement.parentElement;
            row.remove();
        }

        function toggleInventory() {
            const table = document.getElementById('product-table');
            table.classList.toggle('hidden');
        }

        function scrollToInventory() {
          const table = document.getElementById('product-table');
          table.scrollIntoView({ behavior: 'smooth' });
          toggleInventory(); // Aseg√∫rate de que la tabla est√© visible
        }
    </script>

</body>
</html>